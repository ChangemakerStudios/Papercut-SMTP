<UserControl x:Class="Papercut.Views.MessageDetailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:Behaviors="clr-namespace:Papercut.AppLayer.Behaviors"
             xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
             mc:Ignorable="d" d:DesignHeight="400" d:DesignWidth="600" Background="White"
             IsEnabled="{Binding Path=IsLoading,Converter={StaticResource InverseBooleanConverter}}">
    <Grid>
        <!-- Empty State Placeholder -->
        <Border Visibility="{Binding HasMessage, Converter={StaticResource CollapsedIfTrue}}"
                Background="{DynamicResource MahApps.Brushes.Gray10}"
                BorderBrush="{DynamicResource MahApps.Brushes.Gray6}"
                BorderThickness="1"
                Margin="4"
                CornerRadius="4">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="40">
                <iconPacks:PackIconMaterial Kind="EmailOpenOutline"
                                            Width="80"
                                            Height="80"
                                            HorizontalAlignment="Center"
                                            Foreground="{DynamicResource MahApps.Brushes.Gray5}"
                                            Margin="0,0,0,20"/>
                <TextBlock Text="Select an Email to View"
                           FontSize="20"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Center"
                           Foreground="{DynamicResource MahApps.Brushes.Text}"
                           Margin="0,0,0,12"/>
                <TextBlock Text="Choose an email from the list on the left to see its full details here."
                           TextWrapping="Wrap"
                           HorizontalAlignment="Center"
                           TextAlignment="Center"
                           FontSize="14"
                           Foreground="{DynamicResource MahApps.Brushes.Gray1}"
                           MaxWidth="350"
                           LineHeight="20"/>
            </StackPanel>
        </Border>

        <!-- Message Details Content -->
        <Grid Visibility="{Binding HasMessage, Converter={StaticResource BooleanToVisibilityConverter}}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0" Width="Auto" Height="Auto">
            <Grid Visibility="{Binding From,Converter={StaticResource CollapsedIfFalse}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="From" HorizontalAlignment="Right" />
                <TextBox Grid.Column="1" Margin="2" Name="From" IsReadOnly="True" />
            </Grid>
            <Grid Visibility="{Binding To,Converter={StaticResource CollapsedIfFalse}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="To" HorizontalAlignment="Right" />
                <TextBox Grid.Column="1" Margin="2" Name="To" IsReadOnly="True" />
            </Grid>
            <Grid Visibility="{Binding CC,Converter={StaticResource CollapsedIfFalse}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="CC" HorizontalAlignment="Right" />
                <TextBox Grid.Column="1" Name="CC" Margin="2" IsReadOnly="True" />
            </Grid>
            <Grid Visibility="{Binding Bcc,Converter={StaticResource CollapsedIfFalse}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="Bcc" HorizontalAlignment="Right" />
                <TextBox Grid.Column="1" Name="Bcc" Margin="2" IsReadOnly="True" />
            </Grid>
            <Grid Visibility="{Binding Date,Converter={StaticResource CollapsedIfFalse}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="Date" HorizontalAlignment="Right" />
                <TextBox Grid.Column="1" Name="Date" Margin="2" IsReadOnly="True" />
            </Grid>
            <Grid Visibility="{Binding Priority,Converter={StaticResource CollapsedIfFalse}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="Priority" HorizontalAlignment="Right" />
                <TextBox Grid.Column="1" Name="Priority" FontWeight="Bold" Foreground="{Binding PriorityColor}" Margin="2" IsReadOnly="True" />
            </Grid>
            <Grid Visibility="{Binding Subject,Converter={StaticResource CollapsedIfFalse}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150*" />
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="Subject" HorizontalAlignment="Right" />
                <TextBox Grid.Column="1" Name="Subject" Margin="2" FontWeight="Bold" IsReadOnly="True" />
            </Grid>
        </StackPanel>
        <TabControl Grid.Row="1" Width="Auto" Height="Auto" SelectedIndex="{Binding SelectedTabIndex}" Name="Items" />
        </Grid>
    </Grid>
</UserControl>